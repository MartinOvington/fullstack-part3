{"version":3,"sources":["components/person.js","components/filterpeople.js","components/personform.js","components/filter.js","components/notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","name","number","pressDelete","react_default","a","createElement","onClick","FilterPeople","persons","filter","person","toLowerCase","includes","map","components_person","key","PersonForm","func","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","myFilter","handleFilterChange","Notification","message","msgType","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMsgType","_useState11","_useState12","setMessage","useEffect","personService","initialPersons","notification","event","target","personform","preventDefault","personObject","some","window","confirm","find","returnedPerson","setTimeout","catch","error","console","log","filterpeople","result","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f648ca2c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({name, number, pressDelete}) => (\r\n    <div>\r\n      {name} {number}\r\n      <button onClick={() => pressDelete(name)}>delete</button>\r\n    </div>\r\n  )\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './person'\r\n\r\nconst FilterPeople = ({name, persons, pressDelete}) => {\r\n    return persons.filter(person => person.name.toLowerCase().includes(name.toLowerCase())).map(\r\n      person => <Person key={person.name} name={person.name} number={person.number} pressDelete={pressDelete}/>)\r\n  }\r\n\r\nexport default FilterPeople","import React from 'react'\r\n\r\nconst PersonForm = ({func, name, handleNameChange, number, handleNumberChange}) => (\r\n    <form onSubmit={func}>\r\n        <div>\r\n            name: <input value={name} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n            number: <input value={number} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({myFilter, handleFilterChange}) => (\r\n    <form>\r\n        <div>\r\n            filter shown with: <input value={myFilter} onChange={handleFilterChange}/>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, msgType}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (msgType === \"updateMsg\") {\r\n        return (\r\n            <div className=\"updateMsg\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    else {\r\n        return (\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteId = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => true)\r\n}\r\n\r\nexport default { getAll, create, update, deleteId }","import React, { useState, useEffect } from 'react'\nimport FilterPeople from './components/filterpeople'\nimport PersonForm from './components/personform'\nimport Filter from './components/filter'\nimport Notification from './components/notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [myFilter, setFilter] = useState('')\n  const [msgType, setMsgType] = useState('')\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n      personService\n        .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = persons.find(person => person.name === newName).id\n        personService\n          .update(id, personObject)\n          .then(returnedPerson => { \n            setPersons(persons.filter(person => person.name !== newName).concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMsgType('updateMsg')\n            setMessage(`Updated ${newName}'s number`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setMsgType('errorMsg')\n            setMessage(`Information of ${newName} has already been removed from server`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    }\n    else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMsgType('updateMsg')\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(\"hey\")\n          setMsgType('errorMsg')\n          setMessage(`Information of ${newName} has already been removed from server`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const pressDelete = (name) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      const id = persons.find(person => person.name === name).id\n      personService\n        .deleteId(id)\n        .then(result => {\n          if (result) {\n            setPersons(persons.filter(person => person.id !== id))\n          }\n        })\n        .catch(error => {\n          setMsgType('errorMsg')\n          setMessage(`Information of ${name} has already been removed from server`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n    \n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} msgType={msgType} />\n      <Filter myFilter={myFilter} handleFilterChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm func={addPerson} name={newName} handleNameChange={handleNameChange}\n        number={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <FilterPeople persons={persons} name={myFilter} pressDelete={pressDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}